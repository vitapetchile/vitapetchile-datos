<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Datos bancarios — VitaPet Chile</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#06b6d4; --muted:#94a3b8;
      --glass: rgba(255,255,255,0.03);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:
        radial-gradient(800px 400px at 10% 10%, rgba(6,182,212,0.06), transparent 10%),
        linear-gradient(180deg,#071024 0%, #071428 100%);
      color:#e6eef6;
      padding:28px;
    }
    .container{
      width:100%;
      max-width:920px;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border-radius:12px;
      padding:20px;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
    }
    header{ display:flex; gap:12px; align-items:center; margin-bottom:16px; }
    header h1{ font-size:18px; margin:0; }
    header p{ margin:0; color:var(--muted); font-size:13px }
    .card{
      background:var(--card);
      padding:18px;
      border-radius:10px;
      display:grid;
      grid-template-columns: 1fr 300px;
      gap:14px;
      align-items:start;
    }
    @media (max-width:800px){ .card{ grid-template-columns:1fr; } }
    .fields{ display:flex; flex-direction:column; gap:10px; }
    .row{ display:flex; gap:8px; align-items:center; }
    label{ width:150px; color:var(--muted); font-size:13px; }
    .value{
      background:var(--glass);
      border:1px solid rgba(255,255,255,0.02);
      padding:10px 12px;
      border-radius:8px;
      flex:1;
      color:#e6eef6;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      font-size:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
    }
    .value input{
      background:transparent;
      border:0;
      color:inherit;
      outline:none;
      width:100%;
    }
    button{ cursor:pointer; border:0; padding:8px 10px; border-radius:8px; background:transparent; color:var(--accent); font-weight:600; }
    .controls{ display:flex; flex-direction:column; gap:8px; align-items:stretch; }
    .box{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.02);
      display:flex;
      flex-direction:column;
      gap:8px;
      color:var(--muted);
      font-size:13px;
    }
    .btn-primary{
      background:linear-gradient(90deg, var(--accent), #0ea5a3);
      color:#062024;
      border-radius:10px;
      padding:10px;
      font-weight:700;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      border:0;
      box-shadow:0 6px 18px rgba(6,182,212,0.12);
    }
    .btn-ghost{ background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.02); padding:8px; border-radius:8px; }
    .small{ font-size:13px; padding:6px 8px; border-radius:8px; }
    .toast{
      position:fixed; right:20px; bottom:20px; background:rgba(3,7,18,0.9); color:#e6eef6;
      padding:10px 14px; border-radius:10px; box-shadow:0 6px 30px rgba(2,6,23,0.7);
      border:1px solid rgba(255,255,255,0.03); transform:translateY(10px); opacity:0; transition:opacity .18s, transform .18s; z-index:9999;
    }
    .toast.show{ opacity:1; transform:translateY(0); }
    .muted-note{ color:var(--muted); font-size:13px; margin-top:6px; }
    .switch{ display:inline-flex; align-items:center; gap:8px; cursor:pointer; user-select:none; }
    .mask{ letter-spacing:3px; }
    code{ background:rgba(255,255,255,0.02); padding:2px 6px; border-radius:6px; color:var(--muted); font-size:12px; }
  </style>
</head>
<body>
  <div class="container" role="main">
    <header>
      <div>
        <h1>VitaPet Chile — Datos</h1>
        <p>Usa los botones para copiar, ocultar o descargar. (Archivo estático — sin servidor)</p>
      </div>
    </header>

    <section class="card" aria-labelledby="card-title">
      <div>
        <div class="fields" id="fields">
          <div class="row" aria-live="polite">
            <label for="name">Nombre</label>
            <div class="value">
              <input id="name" type="text" value="VitaPet Chile" />
              <button class="small" data-copy data-for="name">Copiar</button>
            </div>
          </div>

          <div class="row">
            <label for="rut">RUT</label>
            <div class="value">
              <input id="rut" type="text" value="21.214.330-8" />
              <button class="small" data-copy data-for="rut">Copiar</button>
            </div>
          </div>

          <div class="row">
            <label for="bank">Banco</label>
            <div class="value">
              <input id="bank" type="text" value="Tenpo prepago" />
              <button class="small" data-copy data-for="bank">Copiar</button>
            </div>
          </div>

          <div class="row">
            <label for="accountType">Tipo de cuenta</label>
            <div class="value">
              <input id="accountType" type="text" value="Cuenta Vista" />
              <button class="small" data-copy data-for="accountType">Copiar</button>
            </div>
          </div>

          <div class="row">
            <label for="accountNumber">Número de cuenta</label>
            <div class="value">
              <input id="accountNumber" type="text" value="111121214330" />
              <button class="small" data-copy data-for="accountNumber">Copiar</button>
            </div>
          </div>

          <div class="row">
            <label for="email">Correo</label>
            <div class="value">
              <input id="email" type="email" value="vitapetchile@gmail.com" />
              <button class="small" data-copy data-for="email">Copiar</button>
            </div>
          </div>

          <div style="display:flex;gap:8px;margin-top:8px;align-items:center;flex-wrap:wrap">
            <button id="copyAll" class="btn-primary">Copiar todo</button>
            <button id="downloadTxt" class="btn-ghost small">Descargar .txt</button>

            <label class="switch" title="Ocultar/mostrar campos">
              <input id="toggleMask" type="checkbox" style="display:none" />
              <span id="maskControl" class="small btn-ghost">Ocultar</span>
            </label>

            <button id="clearBtn" class="small btn-ghost" title="Borrar campos (local)">Limpiar</button>
          </div>

          <p class="muted-note">Consejo: no publiques esta página si contiene datos reales. Comparte el enlace sólo con personas autorizadas.</p>
        </div>
      </div>

      <aside class="controls" aria-label="Controles">
        <div class="box">
          <strong>Vista previa</strong>
          <div id="preview" style="font-family:ui-monospace,monospace;background:transparent;color:#dff7fb;padding:8px;border-radius:6px; white-space:pre-wrap;">
            <!-- preview -->
          </div>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button id="copyPreview" class="small">Copiar vista previa</button>
            <button id="downloadVCard" class="small btn-ghost">Descargar (.txt)</button>
          </div>
        </div>

        <div class="box" style="gap:6px">
          <strong>Instrucciones rápidas</strong>
          <ol style="padding-left:18px;margin:0;color:var(--muted);font-size:13px">
            <li>Guardar este archivo como <code>index.html</code>.</li>
            <li>Abrir localmente o subir a GitHub Pages / Netlify / Vercel para hospedar gratis.</li>
          </ol>
        </div>

        <div class="box">
          <strong>Privacidad</strong>
          <p style="margin:0;color:var(--muted);font-size:13px">Si los datos son reales, evita publicarlos abiertamente. Considera compartir con enlaces privados o por mensajería segura.</p>
        </div>
      </aside>
    </section>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // Short helpers
    const $ = (s,r=document) => r.querySelector(s);
    const $$ = (s,r=document) => Array.from(r.querySelectorAll(s));
    const toast = $('#toast');

    function showToast(msg, t=1800){
      toast.textContent = msg;
      toast.classList.add('show');
      clearTimeout(toast._t);
      toast._t = setTimeout(()=> toast.classList.remove('show'), t);
    }

    const fieldIds = ['name','rut','bank','accountType','accountNumber','email'];
    const inputs = fieldIds.map(id => $('#'+id));
    const preview = $('#preview');

    function maskString(s){
      const t = (s||'').toString().trim();
      if(!t) return '(vacío)';
      if(t.length <= 4) return '••••';
      return '••••••' + t.slice(-4);
    }

    function buildPreview(masked){
      const name = $('#name').value || '(sin nombre)';
      const rut = $('#rut').value || '(sin RUT)';
      const bank = $('#bank').value || '(sin banco)';
      const accType = $('#accountType').value || '(sin tipo)';
      const accNum = $('#accountNumber').value || '(sin cuenta)';
      const email = $('#email').value || '(sin correo)';
      return [
        `Nombre: ${name}`,
        `RUT: ${masked ? maskString(rut) : rut}`,
        `Banco: ${bank}`,
        `Tipo de cuenta: ${accType}`,
        `Número de cuenta: ${masked ? maskString(accNum) : accNum}`,
        `Correo: ${email}`
      ].join('\\n');
    }

    function updatePreview(){ preview.textContent = buildPreview($('#toggleMask').checked); }

    // copy per-field
    document.addEventListener('click', async (e) => {
      const btn = e.target.closest('[data-copy]');
      if(!btn) return;
      const id = btn.getAttribute('data-for');
      const el = document.getElementById(id);
      if(!el) return;
      try{
        await navigator.clipboard.writeText(el.value || '');
        showToast('Copiado: ' + (el.value || '(vacío)'));
      }catch(err){
        el.select();
        document.execCommand('copy');
        showToast('Copiado (fallback)');
      }
    });

    // copy all (unmasked, full labels)
    $('#copyAll').addEventListener('click', async () => {
      const content = fieldIds.map(id=>{
        const el = $('#'+id);
        const label = el.previousElementSibling?.textContent || id;
        return `${label}: ${el.value || ''}`;
      }).join('\\n');
      try{
        await navigator.clipboard.writeText(content);
        showToast('Todos los datos copiados');
      }catch(e){
        const ta = document.createElement('textarea');
        ta.value = content; document.body.appendChild(ta); ta.select();
        document.execCommand('copy'); ta.remove();
        showToast('Todos los datos copiados (fallback)');
      }
    });

    // copy preview
    $('#copyPreview').addEventListener('click', async () => {
      try{
        await navigator.clipboard.writeText(preview.textContent);
        showToast('Vista previa copiada');
      }catch(e){
        const ta = document.createElement('textarea');
        ta.value = preview.textContent; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); ta.remove();
        showToast('Vista previa copiada (fallback)');
      }
    });

    // download full txt
    $('#downloadTxt').addEventListener('click', () => {
      const content = fieldIds.map(id => {
        const el = $('#'+id);
        const label = el.previousElementSibling?.textContent || id;
        return `${label}: ${el.value || ''}`;
      }).join('\\n');
      const blob = new Blob([content], {type:'text/plain;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'datos-vitapet-chile.txt';
      document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
      showToast('.txt descargado');
    });

    // download preview txt
    $('#downloadVCard').addEventListener('click', () => {
      const content = preview.textContent;
      const blob = new Blob([content], {type:'text/plain;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'datos-vista-vitapet.txt';
      document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
      showToast('.txt (vista) descargado');
    });

    // mask toggle: hides/masks RUT and account number
    $('#toggleMask').addEventListener('change', (e) => {
      const on = e.target.checked;
      $('#maskControl').textContent = on ? 'Mostrar' : 'Ocultar';
      // for visual effect, change input type for accountNumber and rut
      ['accountNumber','rut'].forEach(id=>{
        const inp = $('#'+id);
        if(!inp) return;
        inp.type = on ? 'password' : (id==='email' ? 'email' : 'text');
        if(on) inp.classList.add('mask'); else inp.classList.remove('mask');
      });
      updatePreview();
    });

    // clear local (confirmation)
    $('#clearBtn').addEventListener('click', () => {
      if(!confirm('¿Seguro que quieres borrar los campos? Esto sólo borra localmente.')) return;
      inputs.forEach(i => i.value = '');
      updatePreview();
      showToast('Campos limpiados');
    });

    // update preview on input
    inputs.forEach(i => i.addEventListener('input', updatePreview));

    // keyboard shortcut: Ctrl/Cmd+Shift+C -> copy preview
    document.addEventListener('keydown', (e) => {
      if((e.ctrlKey || e.metaKey) && e.shiftKey && e.key.toLowerCase() === 'c'){
        e.preventDefault();
        $('#copyPreview').click();
      }
    });

    // init
    updatePreview();
  </script>
</body>
</html>
